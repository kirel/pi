---
wyoming_openai_image: ghcr.io/roryeckel/wyoming_openai:latest
speaches_image: ghcr.io/speaches-ai/speaches:latest-cuda

wyoming_openai_container_name: wyoming-openai
speaches_container_name: speaches
chatterbox_container_name: chatterbox-tts

wyoming_openai_port: "{{ wyoming_openai_port }}"
speaches_port: "{{ speaches_port }}"
chatterbox_tts_port: 4123
chatterbox_frontend_port: 4321

huggingface_cache_folder: "{{ config_root }}/wyoming-openai/huggingface-cache"
chatterbox_models_folder: "{{ config_root }}/wyoming-openai/chatterbox-models"
chatterbox_voices_folder: "{{ config_root }}/wyoming-openai/chatterbox-voices"
chatterbox_longtext_data_folder: "{{ config_root }}/wyoming-openai/chatterbox-longtext"
chatterbox_voice_sample_file: "{{ config_root }}/wyoming-openai/voice-sample.mp3"
chatterbox_source_folder: "{{ config_root }}/wyoming-openai/source"
chatterbox_frontend_build_folder: "{{ config_root }}/wyoming-openai/frontend"

wyoming_uri: "tcp://0.0.0.0:{{ wyoming_openai_port }}"
wyoming_log_level: INFO
wyoming_languages: de

stt_model: "Systran/faster-whisper-base"
tts_model: "chatterbox-tts-1"
tts_backend: "OPENAI"

# Chatterbox TTS Settings
chatterbox_exaggeration: 0.5
chatterbox_cfg_weight: 0.5
chatterbox_temperature: 0.8
chatterbox_max_chunk_length: 280
chatterbox_max_total_length: 3000
chatterbox_device: auto
chatterbox_use_multilingual_model: true
chatterbox_cors_origins: "*"

# Long Text TTS Settings
chatterbox_longtext_max_length: 100000
chatterbox_longtext_chunk_size: 2500
chatterbox_longtext_silence_padding_ms: 200
chatterbox_longtext_job_retention_days: 7
chatterbox_longtext_max_concurrent_jobs: 3

# Memory Management
chatterbox_memory_cleanup_interval: 5
chatterbox_cuda_cache_clear_interval: 3
chatterbox_enable_memory_monitoring: true

device_requests:
  - driver: nvidia
    count: -1
    capabilities:
      - ["gpu"]
